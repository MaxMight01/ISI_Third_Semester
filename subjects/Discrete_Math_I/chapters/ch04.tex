\chapter{LATIN SQUARES}

\section{Introduction}

\begin{definition}
    A \eax{latin square} of order $n$ is an $n \times n$ array filled with $n$ distinct symbols, each occuring exactly once in each row and exactly once in each column.
\end{definition}

\eax{Euler's generals problem} in latin squares is as follows. Given $n^{2}$ military personnel, each with a rank and regiment of possible $n$ and $n$ options respectively, the problem is to arrange them in an $n \times n$ array such that any choice of a row or a column gives a group of $n$ personnel with $n$ distinct ranks. If we also require that any choice of a row or a column gives a group of $n$ personnel with $n$ distinct regiments, then it is \textit{not} possible to do so for $n = 6$.

\begin{definition}
    Two latin squares $L_{1},L_{2}$ of order $n$, on the same set of row and column indices, are said to be \eax{orthogonal latin squares} if the $n^{2}$ ordered pairs $(l_{ij}^{(1)},l_{ij}^{(2)})$ for $1 \leq i,j \leq n$ are all distinct.
\end{definition}

Euler's generals problem then becomes to find two orthogonal latin squares of order $6$.

\begin{theorem}
    For integer $n \geq 1$, the maximum number $N(n)$ of pairwise mutually orthogonal latin squares of order $n$ satisfies $N(n) \leq n-1$.
\end{theorem}

\begin{proof}
    The key is to convert this problem into a linear algebra one; Let $L_{1},\ldots,L_{t}$ be mutually orthogonal latin squares of order $n$. Let $S$ be their common symbol set. For $s \in S$ and $1 \leq i \leq t$, define $L_{i,s}$ to be the indicator matrix of the symbol $s$ in the latin square $L_{i}$. Then $L_{i,s}$ is a permutation matrix. If $J$ denotes the matrix will all entries $1$, then
    \begin{align}
        A_{i,s} = L_{i,s} - \frac{1}{n} J
    \end{align}
    has row and column sums $0$. As a small lemma, if $V$ denotes the set of matrices with row sum and column sum $0$, then $\dim(V) = (n-1)^{2}$. This is because we can choose the first $n-1$ rows and $n-1$ columns freely, and the last row and column are determined by the previous ones. Consider the Frobenius inner product on $M_{n}(\R)$ defined by $\ip{A,B} = \tr(A^{T}B)$. Note that $\ip{A_{i,s},J} = 0$. Taking two matrices $A_{i,s}$ and $A_{j,s'}$, we have
    \begin{align}
        \ip{A_{i,s},A_{j,s'}} = \ip{L_{i,s} - \frac{1}{n}J, L_{j,s'} - \frac{1}{n}J} = \ip{L_{i,s},L_{j,s'}} - \frac{1}{n}\ip{J,L_{j,s'}} = 1-1 = 0 \text{ for } i \leq j,\; s,s' \in S.
    \end{align}
    Moreover, $\sum_{s \in S} A_{i,s} = 0$ for each $i$. Thus $A_{i,s} \in V$. For a fixed $i$, we get
    \begin{align}
        \dim (\spanof_{s \in S} \{A_{i,s}\}) = n-1
    \end{align}
    by comparing inner products for both $i = j$ and $i \neq j$. So for $1 \leq i \leq t$, the $\spanof_{s \in S} \{A_{i,s}\}$ form mutually orthogonal subspaces of $V$. Therefore,
    \begin{align}
        \sum_{i=1}^{t} \dim(\spanof_{s \in S} \{A_{i,s}\}) \leq \dim V = (n-1)^{2} \implies t(n-1) \leq (n-1)^{2}.
    \end{align}
    We then have $\ip{\sum_{s \in S} \alpha_{s} A_{i,s}, \sum_{s \in S} \alpha_{s} A_{i,s'}} = n\alpha_{s'} - \sum_{s \in S} \alpha_{s} = 0$ which forces $\alpha_{s} = \alpha_{s'}$ for all $s,s' \in S$.
\end{proof}

\begin{theorem}
    If $q$ is a prime power then there exists a projective plane of order $q$.
\end{theorem}

\subsection{Projective Planes and Fields}

We move our discussion on to projective planes.

\begin{definition}
    A \eax{finite projective plane} of order $n$ is an incidence structure of points and lines satisfying
    \begin{enumerate}
        \item any two distinct points lie on exactly one line,
        \item any two distinct lines meet at exactly one points,
        \item there exist four points with no three collinear.
    \end{enumerate}
\end{definition}

\begin{lemma}
    Each line in a finite projective plane contains the same number of points $(n+1)$. Each point is on $(n+1)$ lines. The total number of points is equal to the total number of lines $n^{2}+n+1$.
\end{lemma}
\begin{proof}
    There is a one-to-one correspondence between lines passing through $p_{2}$ and points on $l$ other than $p_{1}$. The number of lines passing through $p_{2}$ equals the number of lines passing through $p_{3}$. There is a one-to-one correspondence between points on $l_{1}$, lines passing through $p$, and points on $l_{2}$. The number of points on $l_{1}$ equals the number of points on $l_{2}$, or $n+1$. The total number of points is $(n+1)^{2}-n = (n+1)n + 1$.
\end{proof}

\begin{theorem}
    There exists a projective plane of order $n$ if and only if there exists a set of $n-1$ mutually orthogonal latin squares of order $n$.
\end{theorem}


\begin{proof}
    We prove the converse implication. Choose a line $\ell_{\infty}$ and label the points on it as $p_{0},\ldots,p_{n}$. The lines through $p_{0}$, except $\ell_{\infty}$, are $R_{1},\ldots,R_{n}$. The lines through $p_{1}$, except $\ell_{\infty}$, are $C_{1},\ldots,C_{n}$. For a point $p \in P\setminus \ell_{\infty}$, $R_{i} \cap C_{j} = p$ uniquely determines via $(i,j)$. If we use $p_{2}$ to determine the symbol set $\{s_{1},\ldots,s_{n}\}$, then define latin squares as $L(P_{2})(R_{i},C_{j})$ to be the line passing through $R_{i} \cap C_{j}$ and $p_{2}$. Note that $L(p_{2})(R_{i},C_{j}) \neq L(p_{2})(R_{i'},C_{j'})$ for $(i,j) \neq (i',j')$ since $p_{2},p_{ij},p_{i'j'}$ are not collinear. So $L(p_{2})$ is a latin square. Similarly, we can define $L(p_{3}),\ldots,L(p_{n})$. To show that they are mutually orthogonal, we show that if $(i,j) \neq (i',j')$, then
    \begin{align}
        (L(p_{2})(R_{i},C_{j}), L(p_{3})(R_{i},C_{j})) \neq (L(p_{2})(R_{i'},C_{j'}), L(p_{3})(R_{i'},C_{j'})).
    \end{align}
    Case I, where $i \neq i'$ (the case $j \neq j'$ is similar). If $L(p_{2})(R_{i},C_{j}) = L(p_{2})(R_{i'},C_{j'})$, then $p_{2},R_{i} \cap C_{j},R_{i'} \cap C_{j'}$ are collinear. So $L(p_{3})(R_{i},C_{j}) \neq L(p_{3})(R_{i'},C_{j'})$. Case II, where $i = i'$ and $j = j'$. This is trivial.

    For the forward implication, let $L_{1},\ldots,L_{n-1}$ be mutually orthogonal latin squares of order $n$ on the symbol set $\{s_{1},\ldots,s_{n}\}$. Define $P' = \{(r,c) \mid r,c \in \{1,2,\ldots,n\}\}$ (as our set of points), and $L_{k,s} = \{(r,c) \mid L_{k}(r,c) = s\}$ (as our set of lines). Note that $\bigcup_{i=1}^{n} L_{k,s_{i}} = [n] \times [n]$ for each $k$. The lines $L_{k,s_{i}}$ are, thus, 'parallel' in the sense that they partition $P'$. For $1 \leq k \leq n-1$, we have a class of parallel lines. Thus we have $n^{2} - n$ lines so far. Add $n$ more lines $R_{1},\ldots,R_{n}$ where $R_{i} = \{(i,j) \mid j \in [n]\}$, and $n$ more lines $C_{1},\ldots,C_{n}$ where $C_{j} = \{(i,j) \mid i \in [n]\}$. This gives $n^{2} + n$ lines. Each class of parallel lines will be associated with a point at infinity. Let $\cF_{k}$ denote the class of parallel lines corresponding to $L_{k}$. Then $\cF_{k} \cap \cF_{k'} = \emptyset$ for $k \neq k'$. Thus we have $(n+1)$ classes $\cF_{1},\ldots,\cF_{n-1},R,C$ and $(n+1)$ points $P = P' \cup \{n+1 \text{ points}\}$. We now verify the projective plane axioms.
    
    
    Note that $L_{k,s} \cap L_{k',s'} = \{(r,c)\}$ for some unique $(r,c)$ since $L_{k}$ and $L_{k'}$ are orthogonal. Also, $R_{i} \cap C_{j} = \{(i,j)\}$ for all $i,j$. Moreover, $L_{k,s} \cap R_{i} = \{(i,c)\}$ for some unique $c$, and $L_{k,s} \cap C_{j} = \{(r,j)\}$ for some unique $r$. Finally, $R_{i} \cap R_{i'} = \emptyset$ for $i \neq i'$, and $C_{j} \cap C_{j'} = \emptyset$ for $j \neq j'$. Thus any two distinct lines meet at exactly one point.
\end{proof}


Let $\K$ be a finite field, with $\Z \hookrightarrow \K$. Note that since this field is finite, for all $a \in \K$ there exists an integer $k$ such that $a = ka$ or $(k-1)a = 0$. The \eax{characteristic} of $\K$ is the smallest $n \in \N$ such that $na = 0$ for all $a \in \K$. The characteristic is always a prime.

If $na = 0$ for $a \neq 0$, then $na a^{-1} = (a + a + \cdots + a) a^{-1} = (1 + 1 + \cdots + 1) = 0$. If we let $n = pq$, then $p(qa) = 0$ for all $a \in \K$ implies either $qa = 0$ for all $a \in \K$ or $p 1 = 0$. In either case, a factor of $n$ is a `smaller' characteristic. This process only ends if $n$ is prime.

\begin{proposition}
    The order of a finite field is a prime power.
\end{proposition}
\begin{proof}
    Let $p$ be the characteristic of $\K$ and $q$ be another prime factor of $\# \K$. Then $qa = 0$ for some $a \neq 0$. By Cauchy's theorem, $pa = 0$ for some $a \neq 0$. So $p = q$. Thus the order of $\K$ is $p^{k}$ for some $k \in \N$.
\end{proof}