\chapter{INTEGRATION: RIEMANN AND DARBOUX}

\section{Intuition}

\textit{September 15th.}

For the one-dimensional integration, we studied how to compute the length of curves, the area under a curve, and even antiderivatives. Our aim, now, is to extend these concepts to higher dimensions; given a function $f:O_{n} \to \R$, we want to give meaning to $\int_{O_{n}} f d\ast$, and fill the $\ast$ too.

\begin{definition}
    We term $B^{n} = \prod_{i=1}^{n} [a_{i},b_{i}]$ a \eax{closed box} in $\R^{n}$. One can show that the closure of an open box is the corresponding closed box. The \eax{volume of a box} is defined as
    \begin{align}
        v(B^{n}) = v\left( \prod_{i=1}^{n} [a_{i},b_{i}] \right) = v\left( \prod_{i=1}^{n} (a_{i},b_{i}) \right) = \prod_{i=1}^{n} (b_{i} - a_{i}).
    \end{align}
\end{definition}

We extend the concept of partitions to boxes in the natural way.

\begin{definition}
    Let $B^{n} = \prod_{i=1}^{n} [a_{i},b_{i}]$ be a closed box in $\R^{n}$. For each $i = 1,2,\ldots,n$, consider a partition of $[a_{i},b_{i}]$ give by $P_{i}:a_{i}=x_{i,0} < x_{i,1} < \cdots < x_{i,n_{i}} = n_{i}$. Set $P = P_{1} \times P_{2} \times \cdots \times P_{n}$, a \eax{partition of the box}, and set
    \begin{align}
        \Lambda(P) = \{(t_{1},t_{2},\ldots,t_{n}) : 0 \leq t_{i} \leq n_{i}\},
    \end{align}
    the set of multi-indices. For $\alpha \in \Lambda(P)$, define the $\alpha^{\text{th}}$ \eax{closed sub-box} as $B_{\alpha}^{n} = I_{1,t_{1}} \times I_{2,t_{2}} \times \cdots \times I_{n,t_{n}}$, where $I_{i,t_{i}} = [x_{i,t_{i}-1}, x_{i,t_{i}}]$. The set of all closed sub-boxes is called a \eax{partition of the box} $B^{n}$. We get
    \begin{align}
        B^{n} = \bigcup_{\alpha \in \Lambda(P)} B_{\alpha}^{n}, \quad v(B^{n}) = \sum_{\alpha \in \Lambda(P)} v(B_{\alpha}^{n}).
    \end{align}
\end{definition}

Another unavoidable definition is that of refinement of partitions.

\begin{definition}
    For a closed box $B^{n}$, a partition $\tilde{P}$ is termed a \eax{refinement} of a partition $P$ if $\tilde{P}_{i}$ is a refinement of $P_{i}$ for each $i = 1,2,\ldots,n$.
\end{definition}

Given $f \in \cB(B^{n})$, a bounded function over $B^{n}$, and a partition $P$ of $B^{n}$, we define 
\begin{align}
    m_{\alpha} = \inf_{x \in B_{\alpha}^{n}} f(x), \quad M_{\alpha} = \sup_{x \in B_{\alpha}^{n}} f(x)
\end{align}
for all $\alpha \in \Lambda(P)$. We then define the \eax{lower Darboux sum} and the \eax{upper Darboux sum} of $f$ with respect to $P$ as
\begin{align}
    L(f,P) = \sum_{\alpha \in \Lambda(P)} m_{\alpha} v(B_{\alpha}^{n}), \quad U(f,P) = \sum_{\alpha \in \Lambda(P)} M_{\alpha} v(B_{\alpha}^{n})
\end{align}
respectively. If $m = \inf_{x \in B^{n}} f(x)$ and $M = \sup_{x \in B^{n}} f(x)$, then it is easy to see that
\begin{align}
    m v(B^{n}) \leq L(f,P) \leq U(f,P) \leq M v(B^{n}).
\end{align}.

\begin{theorem}
    For $\tilde{P} \supset P$ partitions of $B^{n}$, and $f \in \cB(B^{n})$, we have
    \begin{align}
        L(f,P) \leq L(f,\tilde{P}) \leq U(f,\tilde{P}) \leq U(f,P).
    \end{align}
\end{theorem}
\begin{proof}
    The proof of this is left as an exercise to the reader; it is a straightforward generalization of the one-dimensional case.
\end{proof}
We also denote $\cP(B^{n})$ as the set of all partitions of $B^{n}$.
\begin{corollary}
    For all $P,Q \in \cP(B^{n})$, $L(f,P) \leq U(f,Q)$.
\end{corollary}
\begin{proof}
    Easy to see since $P,Q \subset P \cup Q$.
\end{proof}

Since refinement leads to an increase in the lower Darboux sum and a decrease in the upper Darboux sum, we can define as follows.
\begin{definition}
    Given $f \in cB(B^{n})$, we define the \eax{lower Darboux integral} and the \eax{upper Darboux integral} of $f$ over $B^{n}$ as
    \begin{align}
        \underline{\int_{B^{n}}} f = \sup_{P \in \cP(B^{n})} L(f,P), \quad \overline{\int_{B^{n}}} f = \inf_{P \in \cP(B^{n})} U(f,P)
    \end{align}
    respectively. If $\underline{\int_{B^{n}}} f = \overline{\int_{B^{n}}} f$, we say that $f$ is \eax{Riemann-Darboux integrable} over $B^{n}$, and denote the common value as the \eax{Darboux integral} of $f$ over $B^{n}$, denoted as
    \begin{align}
        \int_{B^{n}} f = \underline{\int_{B^{n}}} f = \overline{\int_{B^{n}}} f.
    \end{align}
    We may write
    \begin{align}
        \int_{B^{n}} f = \int_{B^{n}} f dv = \int_{B^{n}} f(x_{1},\ldots,x_{n}) dx_{1} dx_{2} \cdots dx_{n}
    \end{align}
    where $dv$ denotes the infinitesimal volume element in $n$-dimensions, and with no intention of commuting the $dx_{i}$'s; it is simply notation.
\end{definition}

Also, we denote $\cR(B^{n}) \defeq \{f \in \cB(B^{n}) : f \text{ is Riemann-Darboux integrable over } B^{n}\}$.

\begin{theorem}
    Let $f \in \cB(B^{n})$. Then $f \in \cR(B^{n})$ if and only if for every $\varepsilon > 0$, there exists a partition $P \in \cP(B^{n})$ such that $U(f,P) - L(f,P) < \varepsilon$.
\end{theorem}
\begin{proof}
    Let us assume $f$ is Riemann-Darboux integrable. Then
    \begin{align}
        \inf_{P}U(f,P) - \sup_{P}L(f,P) = \inf_{P}(U(f,P)-L(f,P)) = 0
    \end{align}
    showing the necessary result. For the converse, let $\varepsilon > 0$ be given. By hypothesis, there exists $P \in \cP(B^{n})$ such that $U(f,P) - L(f,P) < \varepsilon$. Simply by the definition of infimum and supremum, we have
    \begin{align}
        0 \leq \overline{\int_{B^{n}}} f - \underline{\int_{B^{n}}} f \leq U(f,P) - L(f,P) < \varepsilon \implies f \in \cR(B^{n}).
    \end{align}
\end{proof}

Note that $\cR(B^{n})$ is a vector space over $\R$, satisfying $\int_{B_{n}} (f + \alpha g) = \int_{B_{n}} f + \alpha \int_{B_{n}} g$ for all $f,g \in \cR(B^{n})$ and $\alpha \in \R$. Also, if $f,g \in \cR(B^{n})$ and $f(x) \leq g(x)$ for all $x \in B^{n}$, then $\int_{B^{n}} f \leq \int_{B^{n}} g$.

If $f \in \cR(B^{n})$, then $\abs{f} \in \cR(B^{n})$ and $\abs{\int_{B^{n}} f} \leq \int_{B^{n}} \abs{f}$. Also, if $f,g \in \cR(B^{n})$, then $fg \in \cR(B^{n})$, making $\cR(B^{n})$ an algebra over $\R$.

\begin{definition}
    The \eax{diameter of a box} $B^{n}$ is simply defined as the largest diagonal of the box, $\diam(B^{n})$.
\end{definition}

Using the above, the concept of mesh can be extended.
\begin{definition}
    The \eax{norm of a partition} or \eax{mesh of a partition} $P$ of a box $B^{n}$ is defined as
    \begin{align}
        \norm{P} = \max_{\alpha \in \Lambda(P)} \diam(B_{\alpha}^{n}).
    \end{align}
\end{definition}

\begin{theorem}
    $\cC(B^{n}) \subsetneq \cR(B^{n})$.
\end{theorem}
\begin{proof}
    Pick $f:B^{n} \to \R$ continuous. Given $\varepsilon > 0$, by uniform continuity, there exists $\delta > 0$ such that $\abs{f(x) - f(y)} < \frac{\varepsilon}{2v(B^{n})}$ whenever $\norm{x-y} < \delta$. Now, choose a partition $P$ of $B^{n}$ such that $\norm{P} < \delta$. Then, for each $\alpha \in \Lambda(P)$, $a_{\alpha} \in B_{\alpha}^{n}$. Thus for all $x \in B_{\alpha}^{n}$, we have
    \begin{align}
        \abs{f(x)-f(a_{\alpha})} < \frac{\varepsilon}{2v(B^{n})} = \tilde{\varepsilon} \implies f(a_{\alpha}) - \tilde{\varepsilon} < f(x) < f(a_{\alpha}) + \tilde{\varepsilon} \text{ for all } x \in B_{\alpha}^{n}.
    \end{align}
    Inserting the infimum and supremum, we get
    \begin{align}
        f(a_{\alpha}) - \tilde{\varepsilon} < m_{\alpha} \leq M_{\alpha} < f(a_{\alpha}) + \tilde{\varepsilon} \implies c(P) - \frac{\varepsilon}{2} \leq L(f,P) \leq U(f,P) \leq c(P) + \frac{\varepsilon}{2}
    \end{align}
    where $c(P) = \sum_{\alpha \in \Lambda(P)} f(a_{\alpha}) v(B_{\alpha}^{n})$. Thus $U(f,P) - L(f,P) < \varepsilon$, showing that $f \in \cR(B^{n})$.
\end{proof}

\noindent\textit{September 19th.}

We question whether the use of one-variable integration can help us in evaluating $\int_{B^{n}} f dv$ for $f \in \cR(B^{n})$. The answer is yes, and we will see how. Consider $B^{2} = [a_{1},b_{1}] \times [a_{2},b_{2}] \subseteq \R^{2}$.Given $f:B^{2} \to \R$, we consider slice functions $f_{x}:[a_{2},b_{2}] \to \R$ defined as $f_{x}(y) = f(x,y)$ for each fixed $x \in [a_{1},b_{1}]$. Similarly, one defines $f_{y}(x) = f(x,y)$ over $[a_{2},b_{2}]$. Let $P$ be a partition of $B^{2} = B_{1}^{1} \times B_{2}^{1}$, where $P = P_{1} \times P_{2}$, and $P_{i}$ is a partition of $B_{i}^{1}$ for $i=1,2$. Moreover, $\Lambda(P) = \Lambda(P_{1}) \times \Lambda(P_{2})$.

\begin{example}
    Look at $B^{2} = [0,1] \times [0,1]$ and $f(x,y) = \1_{1/2}(x) \cdot \1_{\Q}(y)$. If we consider the slice function $f_{x}:[0,1] \to \R$, then for $x = \frac{1}{2}$, $f_{\frac{1}{2}}$ is the Dirichlet function, which is not Riemann integrable. Thus, $\int_{0}^{1} \int_{0}^{1} f(x,y) dy dx$ is not defined. However, if we consider $f_{y}:[0,1] \to \R$, then for each fixed $y \in [0,1]$, $f_{y}(x)$ is $0$ except a single point, where it is $1$. Thus, $f_{y}$ is Riemann integrable for each $y \in [0,1]$, and $\int_{0}^{1} f_{y}(x) dx = 0$ along with $\int_{0}^{1} \int_{0}^{1} f(x,y) dx dy = 0$. Thus, the order of integration does not commute.

    We, however, will show that $f \in \cR(B^{2})$ and $\int_{B^{2}} f dv = 0$. Pick $\varepsilon > 0$. Pick partition $\Lambda(P_{1}) = \{0,\frac{1}{2}-\varepsilon,\frac{1}{2}+\varepsilon,1\}$ and $\Lambda(P_{2}) = \{0,1\}$. Then, $P = P_{1} \times P_{2}$ is a partition of $B^{2}$. The sub-boxes are $B_{1} = [0,\frac{1}{2}-\varepsilon] \times [0,1]$, $B_{2} = [\frac{1}{2}-\varepsilon,\frac{1}{2}+\varepsilon] \times [0,1]$, and $B_{3} = [\frac{1}{2}+\varepsilon,1] \times [0,1]$. The supremum over these boxes are $M_{1} = 0$, $M_{2} = 1$, and $M_{3} = 0$. The infimum over these boxes are $m_{1} = 0$, $m_{2} = 0$, and $m_{3} = 0$. Thus, we have
    \begin{align}
        U(f,P) - L(f,P) = \sum_{j=1}^{3} (M_{j} - m_{j}) v(B_{j}) = 2\varepsilon \to 0.
    \end{align}
    This tells us that $f \in \cR(B^{2})$and $\int_{B^{2}} f dv = 0$.
\end{example}

Now suppose $B^{m} \times B^{n} = B^{m + n} \subseteq \R^{m+n}$, and let $x \in B^{m}$ and $y \in B^{n}$. Fix $P \in \cP(B^{m+n})$ and let $P = P^{m} \times P^{n}$, where $P^{m} \in \cP(B^{m})$ and $P^{n} \in \cP(B^{n})$. Subsequently, $\Lambda(P) = \Lambda(P^{m}) \times \Lambda(P^{n})$ and for all $\alpha(P) \in \Lambda(P)$, $\alpha = (\alpha(P^{m}),\alpha(P^{n}))$. The sub-boxes are $B_{\alpha(P)}^{m+n} = B_{\alpha(P^{m})}^{m} \times B_{\alpha(P^{n})}^{n}$. Let $f:B^{m+n} \to \R$ be a bounded function, and let $f_{x} :B^{n} \to \R$ be the slice function in $x$. We then define
\begin{align}
    \underline{f}(x) \defeq \underline{\int_{B^{n}}} f_{x}(y) dv(y) \;\text{ and }\; \overline{f}(x) \defeq \overline{\int_{B^{n}}} f_{x}(y) dv(y) \;\text{ for all } x \in B^{m}.
\end{align}
which are both functions as $\underline{f},\overline{f}:B^{m} \to \R$.

\begin{theorem}[\eax{Fubini's theorem}]
    Let $f \in \cR(B^{m+n})$. Then $\underline{f},\overline{f} \in \cR(B^{m})$. Moreover,
    \begin{align}
        \int_{B^{m+n}} f dv = \int_{B^{m}} \underline{f}(x) dv(x) = \int_{B^{m}} \overline{f}(x) dv(x).
    \end{align}
\end{theorem}

\begin{proof}
    Fix $P \in \cP(B^{m} \times B^{n})$ and let $P = P^{m} \times P^{n}$, where $P^{m} \in \cP(B^{m})$ and $P^{n} \in \cP(B^{n})$. Now
    \begin{align}
        L(f,P) = \sum_{\alpha \in \Lambda(P)} m_{\alpha} v(B_{\alpha}^{m+n}) = \sum_{\alpha(P^{m}) \in \Lambda(P^{m})} \left( \sum_{\alpha(P^{n}) \in \Lambda(P^{n})} m_{(\alpha(P^{m}),\alpha(P^{n}))} v(B_{\alpha(P^{n})}^{n}) \right) v(B_{\alpha(P^{m})}^{m})
    \end{align}
    where we broke down $v(B_{\alpha}^{m+n})$ as $v(B_{\alpha(P^{m})}^{m}) v(B_{\alpha(P^{n})}^{n})$. Let us call the summation inside the parenthesis as $(\ast)$. For each $x \in B^{m}$, $\alpha(P^{n}) \in \Lambda(P^{n})$, set $m_{\alpha(P^{n})}(x) = \inf_{y \in B_{\alpha(P^{n})}^{n}} f_{x}(y)$ Thus,
    \begin{align}
        m_{\alpha(P^{n})}(x) &\geq m_{(\alpha(P^{m}),\alpha(P^{n}))} \text{ for all } x \in B_{\alpha(P^{m})}^{m} \\ \implies (\ast) &\leq \sum_{\alpha(P^{n}) \in \Lambda(P^{n})} m_{\alpha(P^{n})}(x) v(B_{\alpha(P^{n})}^{n}) = L(f_{x},P^{n}) \leq \underline{\int_{B^{n}}}f_{x}dv(x) = \underline{f}(x) \text{ for all } x \in B_{\alpha(P^{m})}^{m}.
    \end{align}
    Note, that $\underline{m}_{B_{\alpha(P^{m})}^{m}} = \inf_{x \in B_{\alpha(P^{m})}^{m}} \underline{f}(x)$ is also an upper bound for the above. Therefore, we obtain
    \begin{align}
        L(f,P) \leq \sum_{\alpha(P^{m}) \in \Lambda(P^{m})} \underline{m}_{B_{\alpha(P^{m})}^{m}} v(B_{\alpha(P^{m})}^{m}) = L(\underline{f},P^{m}).
    \end{align}
    Similarly, one obtains
    \begin{align}
        U(f,P) \geq U(\underline{f},P^{m}).
    \end{align}
    Finally, we obtain $\underline{f} \in \cR(B^{m})$. One may do the same work to obtain $\overline{f} \in \cR(B^{m})$. The equality in the theorem also follows.
\end{proof}

\begin{corollary}
    Let $f \in \cR(B^{m+n})$. If $f_{x} \in \cR(B^{n})$ for all $x \in B^{m}$ then 
    \begin{align}
        \int_{B^{m+n}} f dv = \int \int f(x,y) dv(y) dv(x).
    \end{align}
\end{corollary}

\begin{corollary}
    Let $f \in \cC(B^{n})$. Then 
    \begin{align}
        \int_{B^{n}} f dv = \int_{a_{1}}^{b_{1}} \cdots \int_{a_{n}}^{b_{n}} f(x_{1},\ldots,x_{n}) dx_{n} \cdots dx_{1}
    \end{align}
    where $B^{n} = \prod_{i=1}^{n} [a_{i},b_{i}]$, and the order of integration can be interchanged.
\end{corollary}

\textit{September 22nd.}
\begin{example}
    Let us integrate $f(x,y) = xy$ over $B^{2} = [0,1] \times [0,1]$. Since $f$ is continuous, we have
    \begin{align}
        \int_{[0,1]^{2}} f(x,y) dv = \int_{0}^{1} x\left( \int_{0}^{1}ydy \right)dx = \int_{0}^{1} x \cdot \frac{1}{2} dx = \frac{1}{4}.
    \end{align}
\end{example}

\subsection{Generalization}

So far, we have only discussed integration over boxes. We now extend this to more general sets; if $\Omega \subseteq \R^{n}$ is bounded, we wish to define $\int_{\Omega} f dv$ for $f \in \cB(\Omega)$. Here onwards, most proofs will be omitted since they involve measure theoretic arguments beyond the scope of this course. Where an idea of a proof is needed, we will provide it.

\begin{definition}
    Given $f \in \cB(\Omega)$, for some bounded $\Omega \subseteq \R^{n}$, take a box $B^{n} \supseteq \Omega$ and define $\tilde{f}:B^{n} \to \R$ as
    \begin{align}
        \tilde{f}(x) = \begin{cases}
            f(x) &\text{ if } x \in \Omega \\
            0 &\text{ if } x \in B^{n} \setminus \Omega.
        \end{cases}.
    \end{align}
    We say $f \in \cR(\Omega)$ if $\tilde{f} \in \cR(B^{n})$, and define the integral as $\int_{\Omega} f dv \defeq \int_{B^{n}} \tilde{f} dv$.
\end{definition}

\begin{theorem}
    Let $B_{1}^{n}, B_{2}^{n} \supseteq \Omega \subseteq \R^{n}$ be two boxes, with $\Omega$ bounded. Let $f \in \cB(\Omega)$ and define $\tilde{f}_{i}:B_{i}^{n} \to \R$ as above for each $i$. Then $\tilde{f}_{1} \in \cR(B_{1}^{n})$ if and only if $\tilde{f}_{2} \in \cR(B_{2}^{n})$, and in that case, $\int_{B_{1}^{n}} \tilde{f}_{1} dv = \int_{B_{2}^{n}} \tilde{f}_{2} dv$.
\end{theorem}

\begin{definition}
    A set $S \subseteq \R^{n}$ is said to be of \eax{content zero} if for every $\varepsilon > 0$ there exists a finite collection of boxes $\{B_{j}^{n}\}_{j = 1}^{m}$ such that $S \subseteq \bigcup_{j=1}^{m} B_{j}^{n}$ and $\sum_{j=1}^{m} v(B_{j}^{n}) < \varepsilon$.
\end{definition}

Note that content zero sets are \textit{not} the same as measure zero sets. For example, $\Q \cap [0,1]$ is a measure zero set but not a content zero set in $\R^{1}$. Before we discuss the consequences, let us look at two special domains.

\begin{enumerate}
    \item A set $\Omega \subseteq \R^{2}$ is $y$-simple (type-I) if there exist $\varphi_{1},\varphi_{2} \in \cB[a,b]$ such that $\Omega = \{(x,y) \mid \varphi_{1}(x) \leq y \leq \varphi_{2}(x),\; a \leq x \leq b\}$. 
    \item Similarly, $\Omega$ is $x$-simple (type-II) if there exist $\psi_{1},\psi_{2} \in \cB[c,d]$ such that $\Omega = \{(x,y) \mid \psi_{1}(y) \leq x \leq \psi_{2}(y),\; c \leq y \leq d\}$.
\end{enumerate}

\begin{theorem}
    Let $f \in \cR(\Omega)$, where $\Omega = \{(x,y) \mid \varphi_{1}(x) \leq y \leq \varphi_{2}(x),\;a \leq x \leq b\}$ for some $\varphi_{1},\varphi_{2} \in \cB[a,b]$. Suppose $\int_{\varphi_{1}(x)}^{\varphi_{2}(x)} f(x,y) dy$ exists for all $x \in [a,b]$. Then
    \begin{align}
        \int_{\Omega} f(x,y) dv = \int_{a}^{b} \int_{\varphi_{1}(x)}^{\varphi_{2}(x)} f(x,y) dy dx.
    \end{align}
\end{theorem}

\textit{September 29th.}

\begin{example}
    Let $\Omega$ be the region bounded by $y = 1$ and $y = x^{2}$. We ask to compute the integral $\int_{\Omega} x^{2}y dA$. Here, we have
    \begin{align}
        \int_{\Omega} x^{2}y dA = \int_{-1}^{1} \int_{y=x^{2}}^{1} x^{2}y dy dx = \int_{-1}^{1} \frac{1}{2}(x^{2}-x^{6}) dx = \frac{4}{21}.
    \end{align}
\end{example}

\begin{example}
    Look at $\Omega = [0,1]^{2}$ and $f(x,y) = x$ if $y \leq x^{2}$ and $y$ if $y > x^{2}$. We wish to compute $\int_{\Omega} f(x,y) dA$. We split apart region $\Omega$ into two parts, $\Omega_{1} = \{(x,y) \mid 0 \leq x \leq 1, 0 \leq y \leq x^{2}\}$ and $\Omega_{2} = \{(x,y) \mid 0 \leq x \leq 1, x^{2} < y \leq 1\}$. Then, $f|_{\Omega_{1}}(x,y) = x$ and $f|_{\Omega_{2}}(x,y) = y$. Thus,
    \begin{align}
        \int_{\Omega} f dA = \int_{\Omega_{1}} f + \int_{\Omega_{2}} f = \int_{0}^{1} \int_{y=0}^{x^{2}} x dy dx + \int_{0}^{1} \int_{y=x^{2}}^{1} y dy dx = \frac{13}{20}.
    \end{align}
\end{example}

\subsection{Change of Variables}

Recall the $n = 1$ case. Let $\varphi: O \to \R$ be a $C^{1}$-function with $O \subseteq \R$ open. Also suppose $\varphi'(x) \neq 0$ for all $x \in O$. If we let $f \in C(\varphi[a,b])$, where $[a,b] \subseteq O$, then
\begin{align}
    \int_{\varphi[a,b]} f = \int_{a}^{b} f \circ \varphi \abs{\varphi'}
\end{align}
We generalize this to higher dimensions.

\begin{theorem}
    Let $\varphi:O_{n} \to \R^{n}$ be an injective $C^{1}$-function. Suppose $\det J_{\varphi}(x) \neq 0$ for all $x \in O_{n}$. Let $\Omega \subseteq O_{n}$ be a bounded set such that $\Omega \cup \partial \Omega \subseteq O_{n}$ and $\partial \Omega$ is content zero. If $f \in \cR(\varphi(\Omega))$, then
    \begin{align}
        \int_{\varphi(\Omega)} f = \int_{\Omega} f \circ \varphi \abs{\det J_{\varphi}}.
    \end{align}
\end{theorem}
The proof of this theorem is beyond the scope of the course.

\begin{example}
    Let $(r,\theta) \in \R^{2}$. Set $x = r \cos \theta$ and $y = r \sin \theta$. Let $\varphi:\R^{2} \to \R^{2}$ be defined as $\varphi(r,\theta) = (x(r,\theta),y(r,\theta)) = (r\cos\theta,r\sin\theta)$. Here, the Jacobian is
    \begin{align}
        J_{\varphi} = \begin{bmatrix}
            \frac{\partial x}{\partial r} & \frac{\partial x}{\partial \theta} \\
            \frac{\partial y}{\partial r} & \frac{\partial y}{\partial \theta}
        \end{bmatrix} = \begin{bmatrix}
            \cos \theta & -r \sin \theta \\
            \sin \theta & r \cos \theta
        \end{bmatrix}.
    \end{align}
    Thus, $\det J_{\varphi} = r$. Set $O_{2} = \{(r,\theta) \mid r > 0, 0 < \theta < 2\pi\}$. Then, $\varphi:O_{2} \to \R^{2}$ with the same definition as above is injective and $C^{1}$ with $\det J_{\varphi}(r,\theta) \neq 0$ for all $(r,\theta) \in O_{2}$. We shall apply this in the next example.
\end{example}

\begin{example}
    We wish to compute $\int_{x^{2}+y^{2} < 1} e^{-(x^{2}+y^{2})} dA$. Set $\Omega = \{(x,y) \mid x^{2}+y^{2} < 1\}$ and $\tilde{\Omega} = \{(r,\theta) \mid 0 \leq r < 1, 0 \leq \theta < 2\pi\}$. Then, $\varphi(\tilde{\Omega}) = \Omega$. Since $\partial \tilde{\Omega}$ is content zero, we can apply the change of variables theorem. Thus,
    \begin{align}
        \int_{x^{2}+y^{2}<1} e^{-(x^{2}+y^{2})} dA = \int_{\theta = 0}^{2\pi} \int_{r=0}^{1} e^{-r^{2}} \abs{r} dr d\theta = \pi(1-e^{-1}).
    \end{align}
\end{example}

\begin{example}
    We wish to compute the area of $\Omega = \{(x,y) \mid x^{2/3} + y^{2/3} \leq 1\}$. We use the transformation $x = s \cos^{3}t$ and $y = s \sin^{3}t$. Define $\varphi:\R^{2} \to \R^{2}$ by $\varphi(s,t) = (s\cos^{3} t, s \sin^{3} t)$. Then $\Omega = \varphi([0,1] \times [0,2\pi])$. The determinant of the Jacobian is $\det J_{\varphi}(s,t) = 3s \cos^{2} t \sin^{2} t$. Thus, the area is simply
    \begin{align}
        \int_{\varphi([0,1] \times [0,2\pi])} 1 dA = \int_{0}^{2\pi} \int_{0}^{1} 3s \cos^{2} t \sin^{2} t ds dt = \frac{3\pi}{8}.
    \end{align}
    Here, even though $\det J_{\varphi}(s,t) = 0$ when $s=0$ or $t = k\pi/2$ for some integer $k$, the change of variables theorem is still applicable since these points form a content zero set.
\end{example}

\begin{example}
    We discuss spherical coordinates. In this case, we have $(x,y,z) = (r\sin\phi \cos \theta, r \sin \phi \sin \theta, r \cos \phi)$. We consider the set $O_{3} = \{(r,\theta,\phi) \mid r > 0,\; 0 < \phi < \pi,\;0 < \theta < 2\pi\}$. Define $\varphi:O_{3} \to \R^{3}$ as $\varphi(r,\theta,\phi) = (r\sin\phi \cos \theta, r \sin \phi \sin \theta, r \cos \phi)$. This $\varphi$ is a one-to-one $C^{1}$-function. The determinant of the Jacobian is $\det J_{\varphi} = r^{2} \sin \phi$, which is non-zero in $O_{3}$. Therefore, for $f \in C(\varphi([r_{1},r_{2}] \times [\phi_{1},\phi_{2}] \times [\theta_{1},\theta_{2}])) = C(\varphi(O))$ where $0 < r_{1} < r_{2}$, $0 \phi_{1} < \phi_{2} < \pi$, and $0 < \theta_{1} < \theta_{2} < 2\pi$. We then have
    \begin{align}
        \int_{\varphi(O)} f = \int_{O} f \circ \phi \cdot r^{2} \sin \phi dr d\phi d\theta.
    \end{align}
\end{example}

\section{Curves and Surfaces}

\textit{October 1st.}

\begin{definition}
    Given an interval $I = [a,b] \subseteq \R$, a parametrized \eax{curve} in $\R^{n}$ is a continuous function $\gamma:I \to \R^{n}$. We call $\{\gamma(t) \mid t \in I\}$ to be the \eax{path} of $\gamma$.
\end{definition}

For example, one may define the curve $\gamma:[0,2\pi] \to \R^{2}$ as $\gamma(t) = (\cos t, \sin t)$, which is the unit circle in $\R^{2}$. If we had chosen $\tilde{\gamma}:[0,2\pi] \to \R^{2}$ as $\tilde{\gamma}(t) = (\cos 2t, \sin 2t)$, then the path of $\tilde{\gamma}$ is still the unit circle, but it is traversed twice as fast. Thus given the path of a curve, there are infinitely many parametrizations of the same path.

\begin{definition}
    Let $\gamma:I \to \R^{n}$ be a curve. $\gamma$ is termed a $C^{1}$-function if each component function $\gamma_{i}:I \to \R$ is a $C^{1}$-function for all $i = 1,2,\ldots,n$. A differentiable $\gamma$ is called \eax{smooth} if $\gamma$ is $C^{1}$ and $\gamma'(t) \neq 0$ for all $t \in I$.
\end{definition}

\begin{definition}
    A parametrized curve $\gamma:I \to \R^{n}$ is said to be \eax{piecewise smooth} if there exists a partition of $I = [a,b]$, say, $P:a = x_{0}<x_{1}<\cdots<x_{n}=b$ such that $\gamma|_{[x_{j-1},x_{j}]}$ is smooth for all $j = 1,2,\ldots,n$.
\end{definition}

\begin{definition}
    Two parametrized curves $\gamma:[a,b] \to \R^{n}$ and $\tilde{\gamma}:[\tilde{a},\tilde{b}] \to \R^{n}$ are equivalent if there exists a strictly increasing parametrized curve $\varphi:[\tilde{a},\tilde{b}] \to [a,b]$, which is also surjective and continuously differentiable, such that $\tilde{\gamma} = \gamma \circ \varphi$.
\end{definition}

\begin{definition}
    Let $\gamma:I \to \R^{n}$ be a $C^{1}$-curve. The \eax{speed of the curve} $\gamma$ at $t \in I$ is defined as $\norm{\gamma'(t)}$. The \eax{length of the curve} $\gamma$ between $t_{1}$ and $t_{2}$ is defined as
    \begin{align}
        \int_{t_{1}}^{t_{2}} \norm{\gamma'(t)} dt
    \end{align}
    for any $[t_{1},t_{2}] \subseteq I$.
\end{definition}

Most of these definitions seem more physical rather than mathematical. A more natural way to compute the length of a curve is as follows. Given a curve $\gamma:I \to \R^{n}$, we consider a partition $P:a=t_{0} < t_{1} < t_{2} < \cdots < t_{n} = b$ of $I$. Then, we define the length of $\gamma$ with respect to $P$ as
\begin{align}
    \ell(\gamma,P) = \sum_{i=1}^{n} \norm{\gamma(t_{i})-\gamma(t_{i-1})}.
\end{align}

\begin{definition}
    A curve $\gamma:I \to \R^{n}$ is said to be \eax{rectifiable} if $\ell(\gamma) \defeq \lim_{\norm{P} \to 0} \ell(\gamma,P)$ exists.
\end{definition}

Note that for a piecewise smooth curve $\gamma:[a,b] \to \R^{n}$, the curve is rectifiable and $\ell(\gamma) = \int_{a}^{b} \norm{\gamma'(t)} dt$. However, a recetifiable curve need not be piecewise smooth. A popular example is the Cantor function.