\chapter{FREE GROUPS AND PRODUCTS}


\section{Free Groups}

\textit{September 16th.}

Let $S = \{a_{1},a_{2},\ldots\}$ be a non-empty set of letters. Our objective is to define a (free) group on $S$. Note that $S$ need not be finite or countable. Let $\bar{S} = \{a_{1},a_{2},\ldots\} \sqcup \{a_{1}^{-1},a_{2}^{-1},\ldots\} \sqcup \{\square\}$ be the set of letters and their formal inverses, and another `null' element $\square$. An element of $\bar{S}$ is called a \eax{letter}. A \eax{word} on $S$ is a finite sequence of letters from $\bar{S}$, i.e., an element of the set $\bigcup_{n=0}^{\infty} \bar{S}^{n}$, where $\bar{S}^{0} = \{\square\}$. If $\Omega$ denotes the set of all words,
then clearly
\begin{align}
    \Omega = \{\square\} \sqcup \bar{S} \sqcup \bar{S}^{2} \sqcup \bar{S}^{3} \sqcup \cdots = \bigcup_{n=0}^{\infty} \bar{S}^{n} = \{f:\N \to \bar{S} \mid f(i) = \square \text{ for all but finitely many } i\}.
\end{align}
A word $w \in \Omega$ is said to be a \eax{reduced word} if the associated function $f:\N \to \bar{S}$ satisfies the following:
\begin{itemize}
    \item if there exists $k$ such that $f(k) = \square$, then $f(i) = \square$ for all $i > k$;
    \item for all $i$, if $f(i) = a_{j}$ for some $j$, then $f(i+1) \neq a_{j}^{-1}$, and vice versa.
\end{itemize}
Essentially, null characters do not appear in the middle of a reduced word, and no letter is immediately followed by its formal inverse. The set of all reduced words is denoted by $\bar{\Omega}$. For example, if $S = \{a,b\}$, then $ab^{-1}a^{-1}b$ is a reduced word, but $ab^{-1}\square a^{-1}b$ and $abb^{-1}a^{-1}$ are not. Note that $\square$ is a reduced word.

Now define a binary operation $\ast:\bar{\Omega}\times\bar{\Omega} \to \bar{\Omega}$, termed \eax{concatenation}, as follows: for $u,v \in \bar{\Omega}$, let $u$ and $v$ have the associated functions $f,g:\N \to \bar{S}$ respectively. Let $k \in \N$ be the least integer such that $f(k+1) = \square$. Then define $u \ast v$ to be the reduced word whose associated function $h:\N \to \bar{S}$ is given by
\begin{align}
    h(i) = \begin{cases}
        f(i) & \text{if } 1 \leq i \leq k,\\
        g(i-k) & \text{if } k < i
    \end{cases}
\end{align}
where $h$ is reduced to ensure that $u \ast v \in \bar{\Omega}$; this reduction is ensured by the following lemma.

\begin{lemma}
    Given $w \in \Omega$, there exists a unique $w_{\emph{\text{red}}} \in \bar{\Omega}$ such that $w_{\emph{\text{red}}}$ is obtained from $w$ by repeatedly deleting adjacent pairs of the form $a_{j}a_{j}^{-1}$ or $a_{j}^{-1}a_{j}$, for some $j$, until no such pair exists, and deleting all occurrences of $\square$ if a non-$\square$ letter appears anywhere after it.
\end{lemma}

\begin{proof}
    Define a function $\red:\Omega \to \Omega$ as follows: if $w \in \bar{\Omega}$ then $\red(w) = w$. Otherwise let $i_{0}$ be the least integer such that $w(i) = \square$ or $(w(i_{0}),w(i_{0}+1)) \in \{(a,a^{-1}),(a^{-1},a)\}$ for some $a \in S$. Then define
    \begin{align}
        \red(w)(j) = \begin{cases}
            w(j) &\text{ if } 1 \leq j < i_{0},\\
            w(j+1) &\text{ if } w(i_{0}) = \square,\; j \geq i_{0},\\
            w(j+2) &\text{ if } (w(i_{0}),w(i_{0}+1)) \in \{(a,a^{-1}),(a^{-1},a)\},\; j \geq i_{0}.
        \end{cases}
    \end{align}
    Given $w \in \Omega$, one can show that there exists $k \in N$ less than the length of $w$ such that $\red^{k}(w) \in \bar{\Omega}$.
\end{proof}

\textit{September 18th.}

From the above, we can define a function $r:\Omega \to \bar{\Omega}$ by $r(w) = \red^{k}(w)$, where $k$ is the least integer such that $\red^{k}(w) \in \bar{\Omega}$. Note that if $w \in \bar{\Omega}$, then $r(w) = w$. The uniqueness of $w_{\text{red}}$ follows from the fact that any two sequences of deletions must lead to the same reduced word. This can be proved by induction on the length of $w$.


\begin{proposition}
    Let $w,w' \in \Omega$. Then $r(w \ast w') = r(r(w) \ast r(w'))$.
\end{proposition}
\begin{proof}
    The proof is left as an exercise to the reader.
\end{proof}

We can now `fix' our binary operator by defining $\bar{\ast}:\bar{\Omega}\times\bar{\Omega} \to \bar{\Omega}$ by $u \bar{\ast} v = r(u \ast v)$ for $u,v \in \bar{\Omega}$.

\begin{theorem}
    $(\bar{\Omega},\bar{\ast},e)$, where $e(i) = \square$ for all $i$, is a group.
\end{theorem}
The above is termed a \eax{free group} on the set $S$, and is denoted by $F_{S}$.
\begin{proof}
    \begin{enumerate}
        \item Associativity: Let $u,v,w \in\bar{\Omega}$. Then
        \begin{align}
            (u \bar{\ast} v) \bar{\ast} w = r(r(u \ast v) \ast w) = r(u \ast v \ast w) = r(u \ast r(v \ast w)) = u \bar{\ast} (v \bar{\ast} w).
        \end{align}

        \item Identity: Let $u \in \bar{\Omega}$. Then $e \bar{\ast} u = r(e \ast u) = r(u) = u = r(u \ast e) = u \bar{\ast} e$.
        
        \item Inverses: Let $u \in \bar{\Omega}$, and let $u$ have the associated function $f:\N \to \bar{S}$. Define $u^{-1} \in \bar{\Omega}$ to be the reduced word whose associated function $g:\N \to \bar{S}$ is given by $g(i) = f(k-i+1)^{-1}$ if $f(k) \neq \square$ and $g(i) = \square$ if $f(k) = \square$, where $k$ is the least integer such that $f(k+1) = \square$. Then $u \bar{\ast} u^{-1} = r(u \ast u^{-1}) = e = r(u^{-1} \ast u) = u^{-1} \bar{\ast} u$.
    \end{enumerate}
\end{proof}

Note that there is a natural mapping $i:S \to F_{S}$ given by $a \mapsto \bar{a}$ where $\bar{a}(1) = a$ and $\bar{a}(k) = \square$ for all $k > 1$.

\begin{theorem}
    Let $G$ be a group, and $S = \{a_{1},a_{2},\ldots,a_{n}\}$ be a set. Let $g_{1},g_{2},\ldots,g_{n} \in G$. Then there exists a unique group homomorphism $\phi:F_{S} \to G$ such that $\phi(\bar{a}_{i}) = g_{i}$ for all $i$. Moreover, if $S$ is arbitrary and $\theta:S \to G$ is a function, then there exists a unique mapping $\phi:F_{S} \to G$ such that $\theta = \phi \circ i$, or $\theta(a) = \phi(i(a))$ for all $a \in S$.
\end{theorem}
\begin{proof}
    We show the existence via a constructive proof. Let $w \in F_{S}$. Then $w = a_{1}^{i_{1}} \cdots a_{n}^{i_{n}}$ where $i_{1},\ldots,i_{n} \in \{\pm 1\}$. Then $\phi(w) \defeq g_{1}^{i_{1}} g_{2}^{i_{2}} \cdots g_{n}^{i_{n}}$. Note that $\phi(\red(w)) = \phi(w)$ and $\phi(r(w)) = \phi(w)$, so $\phi$ is well-defined. This tells us, for $w,w' \in \bar{\Omega}$,
    \begin{align}
        \phi(w \bar{\ast} w') = \phi(r(w \ast w')) = \phi(w \ast w') = \phi(w) \phi(w')
    \end{align}
    showing that $\phi$ is a group homomorphism. If we have another homomorphism $\psi:F_{S} \to G$ such that $\psi(i(a)) = \psi(i(a))$ for all $a \in S$, then $\phi$ and $\psi$ agree on the generators of $F_{S}$ since $i(S)$ generates $F_{S}$, and both are group homomorphisms showing that $\phi = \psi$. The second part of the theorem follows from the first part by taking $g_{i} = \theta(a_{i})$ for all $i$.
\end{proof}

\begin{proposition}
    Let $S$ and $T$ be sets of the same cardinality. Then $F_{S} \cong F_{T}$.
\end{proposition}

\begin{proof}
    Let $\tilde{\theta}:S \to T$ be a bijection, and $i_{T} :T \to F_{T}$ $i_{S}:S \to F_{S}$ be the natural mappings. Define $\theta:i \circ \tilde{\theta}$. Then by the above theorem, there exists a unique group homomorphism $\phi:F_{S} \to F_{T}$ such that $\theta = \phi \circ i_{S}$. Similarly, since $\tilde{\theta}^{-1}:T \to S$ is also a bijection, there exists a unique group homomorphism $\psi:F_{T} \to F_{S}$ such that $i_{S} \circ \tilde{\theta}^{-1} = \psi \circ i_{T}$. We claim that $\psi = \phi^{-1}$. We have
    \begin{align}
        \psi \circ \phi(i_{S}(a)) = \psi \circ \theta (a) = \psi \circ i_{T} \circ \tilde{\theta}(a) = \theta^{-1} \circ \tilde{\theta}(a) = i_{S} \circ \tilde{\theta}^{-1} \circ \tilde{\theta}(a) = i_{S}(a)
    \end{align}
    showing $\psi \circ \phi|_{i(S)} = \id_{i(S)}$ or $\psi \circ \phi = \id_{F_{S}}$. Similarly, $\phi \circ \psi = \id_{F_{T}}$.
\end{proof}

\section{Products}

\subsection{Automorphisms}

Recall that an automorphism of a group $G$ is simply an isomorphism from $G$ to itself. The set of all automorphisms of $G$ is denoted by $\Aut(G)$, which also forms a group under composition. Moreover, $\emptyset \neq \Aut(G) \leq \Bij(G)$, where $\Bij(G)$ is the group of all bijections from $G$ to itself.

\begin{example}
    \begin{enumerate}
        \item One may show that $\Aut(\Z/n\Z) \cong (\Z/n\Z)^{\ast}$, the group of units in $\Z/n\Z$, by sending an automorphism $\phi$ to $\phi(\bar{1})$.
        \item Let $G = (\Z/p\Z)^{n}$, for a prime $p$. Then $\Aut(G) \cong GL_{n}(\Z/p\Z)$, the group of invertible $n \times n$ matrices over $\Z/p\Z$ since $G$ can be viewed as an $n$-dimensional vector space over the field $\Z/p\Z$, and any automorphism of $G$ is a linear transformation.
    \end{enumerate}
\end{example}

\begin{proposition}
    Let $G$ be a group and $H \nsbg G$ a normal subgroup. Given $g \in G$, the map $\varphi_{g}:H \to H$ given by $\varphi_{g}(h) = ghg^{-1}$ is an automorphism of $H$. Moreover, the map $X:G \to \Aut(G)$ given by $g \mapsto \varphi_{g}$ is a group homomorphism. The kernel of $X$ is $\ker X = C_{G}(H)$, the centraliser of $H$ in $G$.
\end{proposition}
\begin{proof}
    The proof is left as an exercise to the reader.
\end{proof}

\begin{corollary}
    Let $H \nsbg G$. Then the map $G/C_{G}(H) \to \Aut(H)$ given by $gC_{G}(H) \mapsto \varphi_{g}$ is an injective group homomorphism.
\end{corollary}
\begin{proof}
    This is easy to see by the first isomorphism theorem applied on the previous proposition. Hence, the map $gC_{G}(H) \mapsto \varphi_{g}$ is an injective group homomorphism from $G/C_{G}(H)$ to $\Aut(H)$.
\end{proof}
In particular, taking $H = G$, we obtain $G/Z(G) \to \Aut(G)$, an injective homomorphism, where $Z(G)$ is the centre of $G$.

\begin{definition}
    Let $G$ be a group. An automorphism of $G$ given by $\varphi_{g}$ for some $g \in G$ is called an \eax{inner automorphism} of $G$. The set of all inner automorphisms of $G$ is denoted by $\Inn(G)$.
\end{definition}
This set is precisely the image of the map $X:G \to \Aut(G)$ defined in the previous proposition. Note that $\Inn(G) \leq \Aut(G)$. Moreover, it is normal in $\Aut(G)$. An automorphism $\psi \in \Aut(G)\setminus \Inn(G)$ is called an \eax{outer automorphism}. We define $\Out(G) = \Aut(G)/\Inn(G)$ to be the group of outer automorphisms of $G$. Note that if $G$ is abelian, then $\Inn(G)$ is trivial, and $\Out(G) = \Aut(G)$.

\begin{example}
    \begin{enumerate}
        \item For $n \geq 3$, $\Inn(S_{n}) \cong S_{n}$.
        \item For the quaternions, $\Inn(Q_{8}) \cong (Z/2Z)^{2}$.
        \item The dihedral group also gives $\Inn(D_{8}) \cong (Z/2Z)^{2}$.
    \end{enumerate}
\end{example}

\subsection{The Direct Product}
\textit{September 25th.}

Recall that if $G_{1},\ldots,G_{n}$ are groups, then $G = G_{1} \times \cdots \times G_{n} = \{(x_{1},\ldots,x_{n}) \mid x_{i} \in G_{i}\}$ is a group under the operation $(x_{1},\ldots,x_{n})(y_{1},\ldots,y_{n}) = (x_{1}y_{1},\ldots,x_{n}y_{n})$. The identity element is $e = (e_{1},\ldots,e_{n})$ where $e_{i}$ is the identity of $G_{i}$, and the inverse of $(x_{1},\ldots,x_{n})$ is $(x_{1}^{-1},\ldots,x_{n}^{-1})$. The group $G$ is called the \eax{direct product} of $G_{1},\ldots,G_{n}$; more specifically, it's the \eax{external direct product} of groups.

The map $p_{i}:G \to G_{i}$ sending $(x_{1},\ldots,x_{n}) \mapsto x_{i}$ is an epimorphism. One may also consider the map $i_{j}:G_{j} \to G$ sending $x \mapsto (e_{1},\ldots,e_{j-1},x,e_{j+1},\ldots,e_{n})$, which is a monomorphism. We also have
\begin{align}
    \hat{G}_{j} \defeq \Img i_{j} = \{(e_{1},\ldots,e_{j-1},x,e_{j+1},\ldots,e_{n}) \mid x \in G_{j}\} \nsbg G \text{ for all } 1 \leq j \leq n.
\end{align}
Let $\underline{x} \in \hat{G}_{j}$ and $\underline{y} \in \hat{G}_{k}$ for some $j \neq k$. Then $\underline{x}\underline{y} = \underline{y}\underline{x}$ since they differ in distinct coordinates. Thus, $\hat{G}_{j}$ and $\hat{G}_{k}$ commute element-wise for all $j \neq k$. Since all these subgroups are normal, we have
\begin{align}
    \hat{G}_{j} \cap \hat{G}_{1} \hat{G}_{j-1} \hat{G}_{j+1} \cdots \hat{G}_{n} = \{e_{G}\} \text{ for all } 1 \leq j \leq n.
\end{align}
Thus, $G$ is completely determined by the subgroups $\hat{G}_{1},\ldots,\hat{G}_{n}$.

We move on to the \eax{internal direct product}; we start with two groups for simplicity. Let $G$ be a group and $G_{1},G_{2}$ be two normal subgroups of $G$ such that $G_{1} \cap G_{2} = \{e_{G}\}$ and $G_{1}G_{2} = G$. Then $G$ is called the internal direct product of $G_{1}$ and $G_{2}$.

\begin{proposition}
    Let $G$ be an internal direct product of $G_{1}$ and $G_{2}$. Then for $x_{1} \in G_{1}$ and $x_{2} \in G_{2}$, $x_{1}x_{2} = x_{2}x_{1}$. Moreover, the map $\phi:G_{1} \times G_{2} \to G$ given by $(x_{1},x_{2}) \mapsto x_{1}x_{2}$ is a group isomorphism.
\end{proposition}
\begin{proof}
    Let $x_{1} \in G_{1}$ and $x_{2} \in G_{2}$. Look at the product $x_{1}x_{2}x_{1}^{-1}x_{2}^{-1}$. Since $G_{1} \nsbg G$, $x_{1}x_{2}x_{1}^{-1}x_{2}^{-1} \in G_{1}$. Similarly, since $G_{2} \nsbg G$, $x_{1}x_{2}x_{1}^{-1}x_{2}^{-1} \in G_{2}$. Thus, $x_{1}x_{2}x_{1}^{-1}x_{2}^{-1} \in G_{1} \cap G_{2} = \{e\}$, or $x_{1}x_{2} = x_{2}x_{1}$, showing that $x_{1}$ and $x_{2}$ commute. Showing that $\phi$ is a group homomorphism is easy; to show it is bijective, note that if $\phi(x_{1},x_{2}) = e$, then $x_{1}x_{2} = e$ or $x_{2} = x_{1}^{-1} \in G_{1}$. Since $x_{2} \in G_{2}$, we have $x_{2} = e$ and $x_{1} = e$. Thus, $\phi$ is injective. For surjectivity, let $g \in G$. Then $g = x_{1}x_{2}$ for some $x_{1} \in G_{1}$ and $x_{2} \in G_{2}$ since $G = G_{1}G_{2}$, showing that $\phi$ is surjective.
\end{proof}

\begin{proposition}
    Let $G$ be a group and $G_{1},G_{2},\ldots,G_{n}$ be normal subgroups of $G$ such that
    \begin{align}
        G_{j} \cap G_{1}G_{2} \cdots G_{j-1}G_{j+1} \cdots G_{n} = \{e\} \text{ for all } 1 \leq j \leq n,
    \end{align}
    and $G_{1}G_{2} \cdots G_{n} = G$. Then $G_{1} \times \cdots \times G_{n} \cong G$ via the mapping $(x_{1},\ldots,x_{n}) \mapsto x_{1}x_{2} \cdots x_{n}$.
\end{proposition}

The above proposition is the generalization of the inner direct product to more than 2 normal subgroups. However, note that the pairwise trivial intersection condition is not sufficient for more than 2 normal subgroups, as shown in the following example.

\begin{example}
    For the group $G = (\R^{2},+)$, the subgroups $G_{1} = \R \times \{0\}$ and $G_{2} = \{0\} \times \R$ are normal with $G_{1} \cap G_{2} = \{(0,0)\}$, and their internal direct product is the whole group. Thus, $(\R^{2},+) \cong (\R,+) \times (\R,+)$. Note that if $G_{3} = \{(x,x) \mid x \in \R\}$, then $G_{3}$ is also a normal subgroup of $G$ with $G_{1} \cap G_{3} = G_{2} \cap G_{3} = \{(0,0)\}$, and we have $G_{1}G_{2}G_{3} = G$, but $G_{3} \cap G_{1}G_{2} \neq \{(0,0)\}$, so $G$ is \textit{not} the internal direct product of $G_{1},G_{2},G_{3}$. Thus, a pairwise trivial intersection condition is not sufficient for more than two normal subgroups.
\end{example}

\begin{example}
    If $G$ is any group, then $G$ is the inner direct product of $G$ and $\{e\}$, or $\{e\}$ and $G$.
\end{example}

Let $\phi:G_{1} \times G_{2} \to G$ be an isomorphism of groups. Then $G$ is the internal direct product of $\phi(\hat{G}_{1})$ and $\phi(\hat{G}_{2})$, where $\hat{G}_{1} = G_{1} \times \{e_{2}\}$ and $\hat{G}_{2} = \{e_{1}\} \times G_{2}$. The proof of this is left as an exercise to the reader.

\begin{example}
    Since $\Z/6\Z \cong \Z/2\Z \times \Z/3\Z$, $\Z/6\Z$ is the internal direct product of the subgroups $\{0,3\}$ and $\{0,2,4\}$, via the above statement.
\end{example}

\begin{example}
    For the permutation group $S_{3}$, the alternating group $A_{3} = \{e,(123),(132)\} \nsbg S_{3}$ but there is not other normal subgroup $H$ such that $S_{3}$ is the internal direct product of $A_{3}$ and $H$. This is because the only other normal subgroup of $S_{3}$ is $\{e\}$, which does not satisfy $A_{3}\{e\} = S_{3}$, or $S_{3}$, which does not satisfy $S_{3} \cap A_{3} = \{e\}$. Thus, $S_{3}$ is not an internal direct product of any two of its normal subgroups, unless one of them is trivial.
\end{example}

We will see, however, that $S_{3}$ is can be written as something termed an internal sermidirect product.

\begin{theorem}[The \eax{structure theorem for finitely generated abelian groups}]
    Let $G$ be a finitely generated abelian group. Then
    \begin{align}
        G \cong \Z^{r} \times \Z/n_{1}\Z \times \Z/n_{2}\Z \times \cdots \times \Z/n_{s}\Z
    \end{align}
    for some $r \geq 0$, $s \geq 0$, and integers $n_{1},\ldots,n_{s} \geq 2$ such that $n_{i} \mid n_{i+1}$ for all $1 \leq i < s$. This decomposition is unique up to isomorphism.
\end{theorem}
\begin{proof}
    The proof is normally done using the theory of modules over a principal ideal domain, which will be covered in a later course.
\end{proof}


\subsection{The Semidirect Product}

\begin{definition}
    Let $G$ be a group with $N,H \sbg G$ such that $N \nsbg G$, $N \cap H = \{e\}$, and $NH = G$. Then $G$ is called the \eax{internal semidirect product} of $N$ and $H$.
\end{definition}

$S_{3}$ is such an example.

\begin{example}
    With $G = S_{3}$, take $N = A_{3}$ and $H = \{e,(1\;2)\}$. Then $N \nsbg G$, $N \cap H = \{e\}$, and $NH = G$, so $S_{3}$ is the internal semidirect product of $A_{3}$ and $\{e,(1\;2)\}$.
\end{example}

One may take the following proposition as the definition of the external semidirect product.

\begin{proposition}
    Let $H,N$ be groups and $\varphi:H \to \Aut(N)$ be a group homomorphism. Define a binary operation on the set $N \times H$ by
    \begin{align}
        (n_{1},h_{1}) \cdot (n_{2},h_{2}) = (n_{1}\varphi(h_{1})(n_{2}),h_{1}h_{2}) \text{ for all } n_{1},n_{2} \in N \text{ and } h_{1},h_{2} \in H.
    \end{align}
    Then $N \times H$ is a group under this operation, called the \eax{external semidirect product} of $N$ and $H$ with respect to $\varphi$, and is denoted by $N \ltimes_{\varphi} H$.

    Moreover, the maps $i_{H}:H \to N \ltimes_{\varphi} H$ given by $h \mapsto (e_{N},h)$, $i_{N}:N \to N \ltimes_{\varphi} H$ given by $n \mapsto (n,e_{H})$, and $p_{2}:N \ltimes_{\varphi} H \to H$ given by $(n,h) \mapsto h$ are group homomorphisms. $\Img i_{N}$ is a normal subgroup of $N \ltimes_{\varphi} H$ isomorphic to $N$. Finally, $N \ltimes_{\varphi} H$ is the internal semidirect product of $\Img i_{N} = i_{N}(N)$ and $\Img i_{H} = i_{H}(H)$.
\end{proposition}
\begin{proof}
    
\end{proof}